# Cursor Rules - FAMO TrafficApp 3.0

**WICHTIG:** Diese Regeln werden automatisch von Cursor geladen. Lies sie in dieser Reihenfolge!

---

## üî¥ PFLICHT: Immer zuerst lesen (in dieser Reihenfolge!)

### 1. Globale Standards (wiederverwendbar f√ºr alle Projekte)
‚Üí **`Global/GLOBAL_STANDARDS.md`** - 7 Arbeitsregeln, Audit-Prozess, Safety

### 2. Projektprofil (FAMO TrafficApp spezifisch)
‚Üí **`PROJECT_PROFILE.md`** - Stack, Infrastruktur, Module, Regeln

### 3. Projekt-Standards (FAMO TrafficApp spezifisch)
‚Üí **`Regeln/STANDARDS.md`** - Vollst√§ndige Standards
‚Üí **`Regeln/STANDARDS_QUICK_REFERENCE.md`** - Schnellreferenz

### 4. F√ºr Audits und Bug-Fixes
‚Üí **`Regeln/REGELN_AUDITS.md`** - 7 unverhandelbare Audit-Regeln
‚Üí **`Regeln/AUDIT_CHECKLISTE.md`** - 9-Punkte-Checkliste
‚Üí **`Regeln/LESSONS_LOG.md`** - Lernhistorie (bekannte Fehler)

### 5. F√ºr spezielle Aufgaben
‚Üí **`Global/CURSOR_USAGE_BEISPIEL.md`** - Copy & Paste Prompts (3 Szenarien)
‚Üí **`Regeln/CURSOR_PROMPT_TEMPLATE.md`** - 12 fertige Templates
‚Üí **`Regeln/AUDIT_FLOW_ROUTING.md`** - Modularer Audit-Flow (Routing/OSRM)

---

## üìã √úbersicht aller Dokumente

**Zentrale √úbersicht:**
‚Üí **`DOKUMENTATION.md`** - Single Source of Truth (17 Dokumente)

---

## üéØ Schnellstart f√ºr h√§ufige Aufgaben

### Szenario 1: Bug fixen
1. Lies: `PROJECT_PROFILE.md` (Projektkontext)
2. Lies: `Global/CURSOR_USAGE_BEISPIEL.md` ‚Üí Szenario 1 (Bug-Fix)
3. Lies: `Regeln/LESSONS_LOG.md` (bekannte Fehler)
4. Dann: Bug analysieren & fixen

### Szenario 2: Code-Review / Audit
1. Lies: `Regeln/REGELN_AUDITS.md` (7 Regeln)
2. Lies: `Regeln/AUDIT_CHECKLISTE.md` (9 Punkte)
3. Lies: `PROJECT_PROFILE.md` (Projektkontext)
4. Dann: Review durchf√ºhren

### Szenario 3: Routing/OSRM Problem
1. Lies: `Regeln/AUDIT_FLOW_ROUTING.md` (kompletter Flow)
2. Lies: `PROJECT_PROFILE.md` ‚Üí Abschnitt 3.2 (Touren-Workflow)
3. Lies: `Regeln/LESSONS_LOG.md` ‚Üí Eintrag #3 (Sub-Routen-Generator)
4. Dann: Routing analysieren

### Szenario 4: Sub-Routen-Generator Problem
1. Lies: `Regeln/CURSOR_PROMPT_TEMPLATE.md` ‚Üí Template #11 (Sub-Routen)
2. Lies: `Regeln/LESSONS_LOG.md` ‚Üí Eintrag #3
3. Lies: `PROJECT_PROFILE.md` ‚Üí Abschnitt 3.2
4. Dann: Problem analysieren

---

## ‚ö†Ô∏è KRITISCHE REGELN (niemals ignorieren!)

### 1. Kein Ghost-Refactor
‚ùå Keine gro√üen Umbauten ohne explizite Freigabe
‚úÖ Nur gezielte √Ñnderungen im definierten Scope

### 2. Immer Backend + Frontend gemeinsam pr√ºfen
‚ùå Nicht nur Backend ODER Frontend
‚úÖ API-Kontrakt zwischen beiden Seiten validieren

### 3. Defensive Programmierung ist Pflicht
‚ùå Keine fehlenden Null-Checks, Type-Checks, Array-Checks
‚úÖ Alle Inputs validieren, alle Edge-Cases abfangen

### 4. Schema-√Ñnderungen immer mit Migration
‚ùå Keine DB-Schema-√Ñnderungen ohne Migration-Script
‚úÖ Immer `db/migrations/YYYY-MM-DD_beschreibung.sql` erstellen

### 5. Tests vorschlagen (min. 2 pro √Ñnderung)
‚ùå Keine Code-√Ñnderung ohne Test-Vorschlag
‚úÖ Backend-Test + Frontend-Test + (optional) Unit-Test

### 6. LESSONS_LOG aktualisieren bei neuen Fehlern
‚ùå Neue Fehlerpattern nicht dokumentiert lassen
‚úÖ Immer in `Regeln/LESSONS_LOG.md` eintragen

### 7. Sprache: Deutsch
‚úÖ Alle Antworten auf Deutsch (au√üer Code-Kommentare wenn n√∂tig)

---

## üîó Verwandte Dateien

**F√ºr neue Projekte:**
‚Üí `Global/PROJEKT_TEMPLATE.md` - Template zum Kopieren

**F√ºr Versionierung:**
‚Üí `CHANGELOG.md` - Aktuelle Versionshistorie

**F√ºr Status:**
‚Üí `STATUS_AKTUELL.md` - Aktueller System-Status

---

## üìä Projekt-Info

**Projekt:** FAMO TrafficApp 3.0  
**Stack:** Python 3.10, FastAPI, Vanilla JS, SQLite  
**Infrastruktur:** Proxmox-LXC, Docker (OSRM), Leaflet  
**Hauptfeatures:** Touren-Workflow, Sub-Routen-Generator, OSRM-Routing

**Dokumentation:** 17 Dokumente (~6.500 Zeilen)  
**Stand:** 2025-11-15  
**Version:** 2.1

---

**üåç Global ‚Üí Projekt ‚Üí Code**

Bei Unsicherheit: Lies zuerst `DOKUMENTATION.md` f√ºr vollst√§ndige √úbersicht!

